# 将来の拡張機能アイデア

このドキュメントは、アプリの初期バージョン（MVP）では実装しないが、将来的に追加を検討する機能のアイデアをまとめたものです。

---

## 工夫管理機能（Effort/Tactics Management）

### コンセプト

「昨日の仮説を検証し、明日の自分を楽にするための作戦会議」

目標達成を支援するための具体的な工夫（タクティクス）を管理し、PDCAサイクルを回す機能。

### 主な機能要素

#### 1. 工夫の記録と評価（CHECK）

記録・日報画面で、前日に設定した工夫について振り返る。

- **工夫リスト**: 現在「継続中」ステータスの工夫を表示
- **目標レベルラベル**: [Bronze] / [Silver] / [Gold] のバッジ表示
- **実行フラグ**: [ 実行できた ] / [ できなかった ] / [再開初日]
- **実感効果**: [ 最高 ] / [ 微妙 ] / [ 逆効果 ] / [ 未評価 ]

#### 2. 工夫のステータス更新（ACT）

評価した工夫について、明日どうするかを選択する。

- **選択肢**: [ そのまま継続 ] / [ 改良して継続 ] / [ 今日で終了 ]
- **理由・改良案**: テキストボックスで記入（任意）

#### 3. 新しい工夫の追加（PLAN）

- **明日を「楽」にする新しい工夫**: 「明日、作業を始める時の最初の1歩をさらに小さくするには？」
  - 例: 昼休みにTODOリストだけ作っておく

- **Step-Up Strategy**: Gold以外の達成度の場合のみ表示
  - 「もし今日、一段上の目標を達成するとしたら、何が足りなかった？」
  - 例: 午後の睡魔対策が必要。15分の昼寝を導入する。
  - 入力内容は次のレベルの工夫として自動登録（ステータス: 継続予定）

#### 4. 工夫管理画面

##### A. 現在進行中の工夫一覧（Active Tactics）

- 「継続中」ステータスの工夫を表示
- 工夫の文言の微修正が可能（誤字脱字の修正など）
- 継続/停止の判断は記録・日報画面でのみ行う

##### B. 工夫のアーカイブ・復元（Tactical Archive）

- 過去に「今日で終了」とした工夫を一覧表示
- 停止理由と停止直前の実感効果を表示
- **[ 明日から再開 ]** ボタン: ステータスを「再開（予約）」に変更
  - 次の記録・日報画面から「再開初日」として表示される

### データ構造の考慮点

各工夫は以下の属性を持つ：

- **内容**: 工夫の具体的な説明文
- **目標レベル**: Bronze / Silver / Gold のいずれか1つに紐づく
- **ステータス**: 継続中 / 継続予定（明日から適用） / 停止済み / 再開（予約）
- **履歴**: 実行フラグ、実感効果、継続判断の記録
- **停止理由**: 停止した場合の理由
- **改良履歴**: 改良した場合の内容

### ロジックの特徴

1. **日中の継続中工夫のロック**:
   - 継続中の工夫は、その日の夜の記録画面まで停止できない
   - 「朝決めたことを昼間に面倒になってオフにする」という自分への甘えを防止

2. **再開初日の扱い**:
   - 管理画面から再開した工夫は、その日の夜は「再開初日」として扱う
   - 実行フラグの初期値は [再開初日] だが、ユーザーは変更可能
   - 実感効果は通常通り評価する

3. **ステータス自動更新**:
   - 「継続予定（明日から適用）」の工夫は、翌日の記録画面で自動的に「継続中」に変更

### ユーザーフロー例

#### 毎日のサイクル

- **Day 1 夜**: 「ジャージで寝る」という工夫を入力
- **Day 2 夜**:
  - CHECK: 実行できた？効果は？
  - ACT: 明日も続ける？改良する？やめる？
  - 新しい工夫があれば追加

#### イレギュラー: 日中に戦術を立て直す

1. **日中**: 工夫管理画面でアーカイブから工夫を再開
2. **その夜**: 再開した工夫が「再開初日」としてCHECKリストに出現
3. **翌日**: 再開した工夫を意識して過ごす
4. **翌々日の夜**: 本格的な答え合わせ（CHECK）を実施

---

## 実装時の検討事項

### なぜMVPに含めないか

1. **複雑性**: 状態管理、ロジック、UI/UXが複雑
2. **検証の必要性**: 実際に使ってみないと、本当に必要か分からない
   1. 現状、Obsidianで工夫の管理に関しては事足りているような気がしてしまうのと、とりあえず調子が良いときにさっさと完成させたかったため。
3. **核心機能への集中**: まずは目標設定と達成度記録という核心機能を確実に動作させる

### 実装する場合の技術的課題

- 工夫の状態遷移管理（継続中 → 停止 → 再開など）
- 日付をまたいだステータスの自動更新
- 工夫と目標レベルの関係性の管理
- 履歴データの効率的な保存と取得
- 再開初日の特殊な扱い

### ユーザー体験の改善ポイント

実装する際は、以下の点をユーザーテストで検証する：

- 工夫の評価タイミングは夜が適切か？
- 選択肢（最高/微妙/逆効果など）は直感的か？
- アーカイブから再開する操作は分かりやすいか？
- 日中のロック機能は本当に有効か？それとも柔軟性を阻害するか？

---

## まとめ

工夫管理機能は、学習習慣の改善を支援する強力な機能となる可能性がありますが、MVP段階では複雑すぎるため、まずはシンプルな目標管理と記録機能に集中します。

ユーザーが実際にアプリを使い始めてから、「こういう工夫を記録したい」というニーズが明確になった時点で、段階的に実装を検討します。
